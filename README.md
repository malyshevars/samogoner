# SAMOGONER AE 3000

Проект «SAMOGONER AE 3000» — это контроллер для домашнего самогонного аппарата на базе ESP8266 (NodeMCU) HW-364A.  
Он следит за температурой в кубе и охлаждающей воды,  переливом приемной тары и состоянием термостата, выводит данные на OLED-дисплей, подключен к Wi-Fi и выводит на сайт данные (для парсинга данных и построения графиков по процессу, но это уже другой репозиторий), сигнализирует о важных событиях светодиодами и зуммером, а также отправляет уведомления в Telegram, логирует события отправляя на удалённый сервер (в базу SQL) и обновление OTA.

Использовались VSCode + PlatformIO + Arduino IDE.

---

Основные возможности:
- **Измерение температур**  
  - Два DS18B20 по шине 1-Wire.  
- **Датчик уровня жидкости**  
  - Аналоговый датчик на входе A0: обнаруживает перелив.  
- **Термостат KSD9700-55-NC**  
  - Вход D0: детектирует пропажу охлаждения.  
- **Индикация**  
  - Красный LED (D1) — аварийные события (перелив, пропало охлаждение, перегрев и т. д.).  
  - Синий LED (D7) — статус процесса.  
  - Встроенный LED (D4) — контроль работы платы.  
  - Зуммер (D8) — 4 режима звукового сигнала.  
- **Экран OLED**  
  - 0.96″ 128×64 I²C (D5=SDA, D6=SCL): время работы и текущие температуры.  
- **Управление и сброс**  
  - Кнопка (D3) сбрасывает звуковой сигнал (кроме критического режима).  
- **Связь и уведомления**  
  - Wi-Fi (WIFI_STA) + Telegram Bot — оперативные сообщения о событиях.  
  - HTTP-логирование на свой сервер (POST запросы).  
- **OTA-обновления**  
  - ArduinoOTA для прошивки «по воздуху».  
- **Встроенный веб-сервер**  
  - Статистика работы доступна по HTTP в браузере.
---

Аппаратные составляющие:
- Контроллер: ESP8266 NodeMCU (HW-364A)  
- Дисплей: OLED 0.96″ SSD1306 (I²C)  
- Температурные датчики: 2 × DS18B20 + резистор 4.7 кΩ  
- Датчик уровня жидкости (аналоговый)  
- Термостат KSD9700-55-NC (герметичный NC) с подтягивающим резистором
- Сигнальные светодиоды: 
красный + резистор 100 Ω  , 
синий + резистор 47 Ω (лучше больше) 
- Зуммер (активный пьезо)  + резистор 100 Ω  
- Кнопка с подтягивающим резистором 
- Источник питания 5 В (USB) для NodeMCU  
---

Нюансы:
В config.h укажите параметры Wi-Fi и Telegram Bot Token:
const char* ssid     = "YOUR_SSID";
const char* password = "YOUR_PASS";
const char* tgBotToken = "YOUR_TELEGRAM_BOT_TOKEN";
const char* chatId4 = "YOUR_CHAT_ID";

Веб-страница с текущим временем работы и температурами доступна по IP-адресу контроллера.
